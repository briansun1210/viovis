



<!DOCTYPE html>
<html lang="en">
    <head>

        <title>Audience Comparison</title>

        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <script type="text/javascript" src="https://d3js.org/d3.v6.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>	
        <link href='https://fonts.googleapis.com/css?family=Quicksand:400,700' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
        <script src="venn.js"></script>

            <style>
                body {
                    font-family: 'Quicksand', sans-serif;
                    font-weight: 700;
                    font-size : 14px;
                    margin: 2% 2% 2% 2%;    
                }

               .venntooltip {
                    font-size : 14px;
                    position: absolute;
                    text-align: center;
                    width: 128px;
                    height: 85px;
                    background: #333;
                    color: #fff;
                    padding: 2px;  
                    border: 0px;
                    border-radius: 8px;
                    opacity: 0;
                }


            </style>



    </head>

<body> 
    <div id="container">
        <div id="venn_one" style=float:left>    
            <!-- <h3>Audience One</h3>  -->
        </div> 
    <script>
        d3.csv("../data/killingsbystate.csv").then(function(csv) {
            var sets = [
                        {sets:["Audio"], figure: 8.91, label: "Audio", size: 800.91},
                        {sets:["Direct Buy"], figure: 34.53, label: "Direct Buy", size: 1000.53},
                        {sets: ["Audio", "Direct Buy"], figure: 5.05, label: "", size: 5.05},
                        ];


            var chart = venn.VennDiagram()
                .width(500)
                .height(400)

            

            var div = d3.select("#venn_one").datum(sets).call(chart);
                div.selectAll("text").style("fill", "white");
                div.selectAll(".venn-circle path")
                        .style("fill-opacity", .8)
                        .style("stroke-width", 1)
                        .style("stroke-opacity", 1)
                        .style("stroke", "fff");

            var tooltip = d3.select("#venn_one").append("div")
                .attr("class", "venntooltip");


            // div.selectAll("g")
            //     .on("mouseover", function(d, i) {
            //         // sort all the areas relative to the current item
            //         venn.sortAreas(div, d);

            //         // Display a tooltip with the current size
            //         tooltip.transition().duration(40).style("opacity", 1);
            //         tooltip.text(d.size + "% of Audience One saw " + d.label);

            //         // highlight the current path
            //         var selection = d3.select(this).transition("tooltip").duration(400);
            //         selection.select("path")
            //             .style("stroke-width", 3)
            //             .style("fill-opacity", d.sets.length == 1 ? .8 : 0)
            //             .style("stroke-opacity", 1);
            //     })

            //     .on("mousemove", function() {
            //         tooltip.style("left", (d3.event.pageX) + "px")
            //             .style("top", (d3.event.pageY - 28) + "px");
            //     })

            //     .on("mouseout", function(d, i) {
            //         tooltip.transition().duration(2000).style("opacity", 0);
            //         var selection = d3.select(this).transition("tooltip").duration(400);
            //         selection.select("path")
            //             .style("stroke-width", 3)
            //             .style("fill-opacity", d.sets.length == 1 ? .8 : 0)
            //             .style("stroke-opacity", 1);
            //     });

            
            var x = venn.x_re_f()
            var y = venn.y_re_f()
            console.log(x, y)
        
            // .attr("width", 400).attr("height", 400);
            d3.select("svg").append('line')
                        .attr("x1", x)
                        .attr("x2", x)
                        .attr("y1", y)
                        .attr("y2", y-150)
                        .style("stroke", "black");
            d3.select("svg").append('text')
                        // .attr("x1", x)
                        .attr("x", x-15)
                        // .attr("y1", y)
                        .attr("y", y-152)
                        .text(function (d) {return "Hello"})
                        .attr("font-size", "13px")
                        .attr("fill", "blue")
                        // .style("stroke", "black");
    


            // var sets = [
            //             {sets:["Audio"], figure: 27.92, label: "Audio", size: 27.92},
            //             {sets:["Direct Buy"], figure: 55.28, label: "Direct Buy", size: 55.28},
            //             {sets:["Branded Takeover"], figure: 7.62, label: "Branded Takeover", size: 7.62},
            //             {sets: ["Audio", "Direct Buy"], figure: 3.03, label: "Audio and Direct Buy", size: 3.03},
            //             {sets: ["Audio", "Branded Takeover"], figure: 1.66, label: "Audio and Branded Takeover", size: 1.66},
            //             {sets: ["Direct Buy", "Branded Takeover"], figure: 2.40, label: "Direct Buy and Branded Takeover", size: 2.40},
            //             {sets: ["Audio", "Direct Buy", "Branded Takeover"], figure: 1.08, label: "Audio, Direct Buy, and Branded Takeover", size: 1.08} 
            //             ];


        
            // var chart = venn.VennDiagram()
            //     .width(500)
            //     .height(400)

            

            // var div2 = d3.select("#venn_two").datum(sets).call(chart);
            //     div2.selectAll("text").style("fill", "white");
            //     div2.selectAll(".venn-circle path")
            //             .style("fill-opacity", .8)
            //             .style("stroke-width", 1)
            //             .style("stroke-opacity", 1)
            //             .style("stroke", "fff");



            // var tooltip = d3.select("body").append("div")
            //     .attr("class", "venntooltip");




            // div2.selectAll("g")
            //     .on("mouseover", function(d, i) {
            //         // sort all the areas relative to the current item
            //         venn.sortAreas(div2, d);

            //         // Display a tooltip with the current size
            //         tooltip.transition().duration(40).style("opacity", 1);
            //         tooltip.text(d.size + "% of Audience Two saw " + d.label);

            //         // highlight the current path
            //         var selection = d3.select(this).transition("tooltip").duration(400);
            //         selection.select("path")
            //             .style("stroke-width", 3)
            //             .style("fill-opacity", d.sets.length == 1 ? .8 : 0)
            //             .style("stroke-opacity", 1);
            //     })

                // .on("mousemove", function() {
                //     tooltip.style("left", (d3.event.pageX) + "px")
                //         .style("top", (d3.event.pageY - 28) + "px");
                // })

                // .on("mouseout", function(d, i) {
                //     tooltip.transition().duration(2500).style("opacity", 0);
                //     var selection = d3.select(this).transition("tooltip").duration(400);
                //     selection.select("path")
                //         .style("stroke-width", 3)
                //         .style("fill-opacity", d.sets.length == 1 ? .8 : 0)
                //         .style("stroke-opacity", 1);
                // });

                })
        </script>

    </div> 

    </body>

</html>














<!-- <!DOCTYPE html>
<html lang="en">
	<head>
        <link rel="stylesheet" href="../css/US_map.css" />
		<meta charset="utf-8">
		<title>D3: Stack layout stacked bar chart</title>
        <script src="venn.js"></script>
		<script type="text/javascript" src="https://d3js.org/d3.v6.min.js"></script>
		<style type="text/css">
        
 
        
		</style>
	</head>
	<body classname = 'LineGraph'> 

		<script type="text/javascript">

            var sets = [ {sets: ['A'], size: 12}, 
                        {sets: ['B'], size: 12},
                        {sets: ['A','B'], size: 2}];

            var chart = venn.VennDiagram()
            d3.select("#venn").datum(sets).call(chart);

                                             
		</script>
	</body>
</html> -->

